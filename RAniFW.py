# –õ–∏—Ü–µ–Ω–∑–∏—è TF_MODS
LICENSE_TEXT = """
TF_MODS - –õ–∏—Ü–µ–Ω–∑–∏—è

–î–∞–Ω–Ω–∞—è –ª–∏—Ü–µ–Ω–∑–∏—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤–∞–º –ø—Ä–∞–≤–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å, –∏–∑–º–µ–Ω—è—Ç—å –∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–π —Ñ–∞–π–ª –ø—Ä–∏ —Å–æ–±–ª—é–¥–µ–Ω–∏–∏ —Å–ª–µ–¥—É—é—â–∏—Ö —É—Å–ª–æ–≤–∏–π:
1. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**: –í—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∏–ª–∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–π —Ñ–∞–π–ª —Ç–æ–ª—å–∫–æ –≤ —Ä–∞–º–∫–∞—Ö –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–∞, –ø—Ä–∏–º–µ–Ω–∏–º–æ–≥–æ –≤ –≤–∞—à–µ–π —é—Ä–∏—Å–¥–∏–∫—Ü–∏–∏.
2. **–ò–∑–º–µ–Ω–µ–Ω–∏—è**: –í—ã –º–æ–∂–µ—Ç–µ –∏–∑–º–µ–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–π —Ñ–∞–π–ª –≤ —Ä–∞–º–∫–∞—Ö –≤–∞—à–∏—Ö –Ω—É–∂–¥, –æ–¥–Ω–∞–∫–æ –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —á–µ—Ç–∫–æ –æ–±–æ–∑–Ω–∞—á–µ–Ω—ã –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã.
3. **–û—Ç–∫–∞–∑ –æ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏**: –î–∞–Ω–Ω—ã–π —Ñ–∞–π–ª –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è "–∫–∞–∫ –µ—Å—Ç—å", –±–µ–∑ –∫–∞–∫–∏—Ö-–ª–∏–±–æ –≥–∞—Ä–∞–Ω—Ç–∏–π. –ú—ã –Ω–µ –Ω–µ—Å–µ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞ –ª—é–±—ã–µ —É–±—ã—Ç–∫–∏ –∏–ª–∏ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –∏–ª–∏ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ —ç—Ç–æ–≥–æ —Ñ–∞–π–ª–∞.
4. **–°—Å—ã–ª–∫–∏ –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª**: –ï—Å–ª–∏ –≤—ã —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç–µ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏–ª–∏ —Ñ–æ—Ä–∫–∏ —ç—Ç–æ–≥–æ —Ñ–∞–π–ª–∞, –≤—ã –¥–æ–ª–∂–Ω—ã —É–∫–∞–∑–∞—Ç—å, —á—Ç–æ —ç—Ç–æ –æ—Å–Ω–æ–≤–∞–Ω–æ –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏ —Ñ–∞–π–ª–∞ TFMODS.
5. **–ù–µ –¥–ª—è –∫–æ–º–º–µ—Ä—á–µ—Å–∫–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**: –ï—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–æ –∏–Ω–æ–µ, –¥–∞–Ω–Ω—ã–π —Ñ–∞–π–ª –∏ –µ–≥–æ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ –Ω–µ –º–æ–≥—É—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω—ã –≤ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö —Ü–µ–ª—è—Ö –±–µ–∑ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ –ø—Ä–∞–≤.
–ù–∞—Å—Ç–æ—è—â–∞—è –ª–∏—Ü–µ–Ω–∑–∏—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –Ω–∞ –≤—Å–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –¥–∞–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞, –≤–∫–ª—é—á–∞—è, –Ω–æ –Ω–µ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—è—Å—å, —Ç–µ–∫—Å—Ç–∞–º–∏, –∫–æ–¥–æ–º, –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏.
6. **–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –º–æ–¥—É–ª–∏ –¥–æ—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è CHATGPT, –Ω–æ –ù–ò–ö–ê–ö –Ω–µ –∫–æ–ø–∏—Ä—É—é—Ç—Å—è —á—É–∂–∏–µ –º–æ–¥—É–ª–∏.(–µ—Å–ª–∏ —Ç–∞–∫–æ–µ –≤—Å—ë –∂–µ –ø—Ä–æ–∏–∑–æ—à–ª–æ —Å–≤—è–∂–∏—Ç–µ—Å—å —Å–æ –º–Ω–æ–π –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö)

#meta developer: @TF_MODS
"""

import aiohttp
from .. import loader, utils

@loader.tds
class RAniFWMod(loader.Module):
    strings = {"name": "RAniFW"}

    async def animecmd(self, message):
        """–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–ª—É—á–∞–π–Ω–æ–µ –∞–Ω–∏–º–µ —Ñ–æ—Ç–æ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é SFW) –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–ª—É—á–∞–π–Ω–æ NSFW –∫–æ–Ω—Ç–µ–Ω—Ç: anime [nsfw]"""
        args = utils.get_args_raw(message)
        
        if args.lower() == "nsfw":
            url = "https://api.waifu.pics/nsfw/waifu"
            caption = "üéó–õ–æ–≤–∏ NSFW —Ñ–æ—Ç–æ!"
        else:
            url = "https://api.waifu.pics/sfw/waifu"
            caption = "üîÆ–°–ª—É—á–∞–π–Ω–æ–µ –∞–Ω–∏–º–µ —Ñ–æ—Ç–æ!"

        await message.edit("–≤–∞–Ω —Å–µ–∫..")

        try:
            async with aiohttp.ClientSession() as session:
                async with session.get(url) as response:
                    if response.status == 200:
                        data = await response.json()

                        if "url" in data:
                            await message.client.send_file(message.chat_id, data["url"], caption=caption)
                            await message.delete()
                        else:
                            await message.edit("–û—à–∏–±–∫–∞: –Ω–µ —É–¥–∞–ª–æ—Å—å –Ω–∞–π—Ç–∏ URL –≤ –æ—Ç–≤–µ—Ç–µ.")
                    else:
                        await message.edit(f"–û—à–∏–±–∫–∞: {response.status} - {response.reason}")
        except Exception as e:
            await message.edit(f"–û—à–∏–±–∫–∞: {e}")
